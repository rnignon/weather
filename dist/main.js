(()=>{function e(e="Seoul"){let t=document.querySelector("#weather-region"),n=document.querySelector("#weather-info");t.innerHTML="",n.innerHTML="",async function(e){const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=5465012c5e514fe392c64156232305&q=${e}`,{mode:"cors"});if(!t.ok)throw document.querySelector("#weather-info").innerHTML=`<h1>City ${e} not found</h1>`,new Error(`City ${e} not found`);const n=await t.json();return console.log(`getData() : ${n}`),n}(e).then((e=>{let o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),i=document.createElement("div"),a=document.createElement("button");o.id="weather-info-text",r.id="weather-time",c.id="weather-condition",i.id="weather-temp",a.id="weather-temp-button",console.log(e),t.innerHTML=`<h1>${e.location.name}</h1><p>in ${e.location.country}</p>`,r.innerHTML=`<h3>Time</h3><p>${e.location.localtime}</p>`,c.innerHTML=`<h3>Condition</h3><p>${e.current.condition.text}</p>`,i.innerHTML=`<h3>Temperature</h3><p>${e.current.temp_c}°C</p>`,a.textContent="C",a.addEventListener("click",(t=>{"C"===a.textContent?(a.textContent="F",i.innerHTML=`<h3>Temperature</h3><p>${e.current.temp_f}°F</p>`):(a.textContent="C",i.innerHTML=`<h3>Temperature</h3><p>${e.current.temp_c}°C</p>`)})),o.append(r,c,i,a),async function(e){let t=document.createElement("img");t.id="weather-gif";const n=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=XRfobMTZ5vPVTZLwIIioh3bAxZyVE3UC&s=${e} landscape`,{mode:"cors"}),o=await n.json();return t.src=o.data.images.original.url,t}(e.current.condition.text).then((e=>{n.append(e,o)}))}))}!function(){document.querySelector("section"),document.querySelector("#region");let t=document.querySelector("#weather-form"),n=document.querySelector("#weather-submit");e(),n.addEventListener("click",(n=>{n.preventDefault(),e(t.search.value),t.search.value=""}))}()})();